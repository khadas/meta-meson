#@TYPE: Machine
#@NAME: meson

#@DESCRIPTION: Machine configuration for meson systems

include conf/machine/include/mesont5d_k5.4_32b.inc

include conf/machine/mesont5d-am301-common.inc

KERNEL_DEVICETREE = "t5d_t950d4_am301_linux_512m.dtb "

KERNEL_MODULE_AUTOLOAD += " dnlp_alg_32 mxl661_fe_32 rt710_fe_32 "
KERNEL_MODULE_AUTOLOAD += " hdr10_tmo_alg_32 "

DISTRO_FEATURES:append = " UI_720P low-memory"
DISTRO_FEATURES:append = " appmanager"

DISTRO_FEATURES:remove = " tts "
DISTRO_FEATURES:remove = " bluetooth bluez5 "
DISTRO_FEATURES:append = " remove-test-files"

ZRAM_FRACTION = "50"

# For YouTube Cert. Now it's for 2023
DEVICE_PROPERTY_PERSIST_YOUTUBE_TOTAL_CPU_MEMORY = "0xAA00000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_GST_APPSRC_VIDEO_SIZE = "0x400000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_GST_APPSRC_AUDIO_SIZE = "0x100000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_VIDEOSINK_LOWMEM = "y"
DEVICE_PROPERTY_PERSIST_YOUTUBE_SECMEM_SIZE_THRESHOLD = "0x20000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_AUDIO_BUFFERING_LOW_LEVEL = "150000000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_AUDIO_BUFFERING_HIGH_LEVEL = "350000000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_VIDEO_BUFFERING_LOW_LEVEL = "150000000"
DEVICE_PROPERTY_PERSIST_YOUTUBE_VIDEO_BUFFERING_HIGH_LEVEL = "350000000"
# End For YouTube
