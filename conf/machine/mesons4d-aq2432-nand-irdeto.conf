include conf/machine/mesons4d-aq2432-common.inc

KERNEL_DEVICETREE = "s4d_s805c3_aq2432_linux_512m_nand.dtb"

DISTRO_FEATURES_append = " irdeto "
DISTRO_FEATURES_append = " nand "
ROOTFS_TYPE = "squashfs"
DM_VERITY_IMAGE_TYPE = "squashfs"

# AVB and chained partition
DISTRO_FEATURES_append = " AVB READONLY dm-verity AVB_chained_partition "
DEVICE_PROPERTY_BOOT_PARTITION_SIZE = "0x2200000"
DEVICE_PROPERTY_SYSTEM_ROLLBACK_LOCATION = "1"
DEVICE_PROPERTY_VENDOR_ROLLBACK_LOCATION = "2"
# For AVB2 chained partition, the actual signing and root hash information
# are stored in the AVB2 footer of the partition
# Libavb in U-Boot will look at the end of the partition to look for footer.
# Therefore, exact size of the partition has to be specified.
DEVICE_PROPERTY_SYSTEM_PARTITION_SIZE = "0x12000000"
DEVICE_PROPERTY_VENDOR_PARTITION_SIZE = "0x1000000"
DISTRO_FEATURES_append = " recovery AVB_recovery_partition "
DEVICE_PROPERTY_RECOVERY_ROLLBACK_LOCATION = "3"
DEVICE_PROPERTY_RECOVERY_PARTITION_SIZE = "0x2000000"
